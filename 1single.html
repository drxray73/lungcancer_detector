---
title: 1. Single file
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script>
  async function loaded(file) {
    // Prepare the file to be sent as form data
    const formData = new FormData();
    formData.append('img', file);

    const response = await fetch('https://hf.space/embed/RishRatnalingam/cxr_lungCancer_detector/+/api/predict/', {
      method: "POST",
      body: formData, // Send the file directly
    });
    const json = await response.json();
    const result = json['result']; // Adjust this according to your API's response structure
    results.innerHTML = `<br/><img src="${URL.createObjectURL(file)}" width="300"> <p>${result}</p>` // Display the image and result
  }
  function read() {
    const file = photo.files[0];
    if (file) {
      loaded(file);
    }
  }
  photo.addEventListener('input', read);
</script>

